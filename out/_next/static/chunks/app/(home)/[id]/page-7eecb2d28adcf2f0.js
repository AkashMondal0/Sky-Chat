(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{70606:function(e,t,s){Promise.resolve().then(s.bind(s,28426))},28426:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return R}});var n=s(9268),a=s(86006),r=s(56970),i=s(48136),o=s(55590),l=s(32090),c=s(96758),u=s(33972),d=s(63899);let m=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),g=e=>{let t=new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return t};var f=s(92621),v=s(23640),p=e=>{var t,s;let{}=e;(0,f.Z)();let a=(0,l.Z)(),m=(0,u.useRouter)(),g=(0,d.Z)(),{conversationData:{isGroup:p}}=g;return(0,n.jsxs)("div",{className:"h-[60px] w-1/1 w-full   border-[1px] border-l-[0px]    bg-white   flex justify-between py-3",children:[(0,n.jsxs)("div",{className:"flex items-center p-2 sm:cursor-pointer",children:[(0,n.jsx)(c.YiX,{className:"mr-2 md:hidden",size:28,onClick:()=>{m.replace(v.Z.home),g.reset()}}),(0,n.jsx)(r.u1,{children:(0,n.jsx)("img",{className:"w-12 h-12 rounded-full object-cover border-[1px] border-black",alt:"not found",src:p?(null===(t=g.conversationData.group)||void 0===t?void 0:t.groupImage)||"/user.png":g.friend.image||"/user.png"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(r.ZT,{variant:"h6",color:"blue-gray",children:p?null===(s=g.conversationData.group)||void 0===s?void 0:s.groupName:g.friend.name}),(0,n.jsx)(r.ZT,{variant:"small",color:"gray",className:"font-normal",children:function(e){switch(typeof e){case"number":break;case"string":e=+new Date(e);break;case"object":e.constructor===Date&&(e=e.getTime());break;default:e=+new Date}var t=[[60,"seconds",1],[120,"1 minute ago","1 minute from now"],[3600,"minutes",60],[7200,"1 hour ago","1 hour from now"],[86400,"hours",3600],[172800,"Yesterday","Tomorrow"],[604800,"days",86400],[1209600,"Last week","Next week"],[2419200,"weeks",604800],[4838400,"Last month","Next month"],[29030400,"months",2419200],[58060800,"Last year","Next year"],[290304e4,"years",29030400],[580608e4,"Last century","Next century"],[580608e5,"centuries",290304e4]],s=(+new Date-e)/1e3,n="ago",a=1;if(0==s)return"Just now";s<0&&(s=Math.abs(s),n="from now",a=2);for(var r,i=0;r=t[i++];)if(s<r[0]){if("string"==typeof r[2])return r[a];return Math.floor(s/r[2])+" "+r[1]+" "+n}return e}(p?g.conversationData.updateDate:g.friend.lastTimeOnline)||"offline"})]})]}),(0,n.jsx)("div",{className:"flex items-center sm:cursor-pointer pr-2",children:(0,n.jsxs)("ul",{className:"flex gap-4",children:[(0,n.jsx)("li",{children:(0,n.jsx)(i.SPk,{size:24})}),(0,n.jsx)("li",{children:(0,n.jsx)(i.gts,{size:24})}),(0,n.jsx)("li",{children:(0,n.jsx)(o.bL4,{size:24,onClick:()=>{a.sideBar?a.closeSideBar():a.openSideBar()}})})]})})]})},x=s(9735),h=s(89725),j=s(84021);let b={message:"",img:null,video:null,messageId:null,authorId:"",id:""},y={id:"",message:"",img:[],reply:b,seenIds:[],createdAt:void 0,updateAt:void 0,conversationId:"",messageUserId:"",date:"",seen:[]};var w=s(82561);let D=(0,w.Ue)(e=>({state:b,setReply:t=>e({state:t})}));var N=e=>{let{Message:t,isSender:s,ProfileImageUrl:r,setSelectedMessage:i,selectedMessage:o}=e,{id:l,message:c,img:u,messageUserId:m,reply:v,date:p}=t,b=(0,d.Z)(),[y,w]=(0,a.useState)(""),N=D(),I=(0,f.Z)(),S=()=>{N.setReply({message:c,img:u,authorId:m,video:"",messageId:l,id:""})};return(0,n.jsx)("div",{className:"w-4/6 ".concat(s&&"ml-auto"," my-2"),onClick:()=>i(l),onMouseOut:()=>w(""),onMouseOver:()=>{w(l)},children:(0,n.jsxs)("div",{className:"flex items-center  ".concat(s?"justify-end":"justify-start"," my-2"),children:[s?(0,n.jsxs)("div",{className:"flex gap-2 mx-2 ".concat(y===l&&s?"":"opacity-0"),children:[(0,n.jsx)(h.ZIz,{size:20}),(0,n.jsx)(x.QV_,{className:"text-black sm:cursor-pointer",size:20,onClick:S}),(0,n.jsx)(j.p1A,{size:20})]}):(0,n.jsx)(n.Fragment,{}),!s&&(0,n.jsx)("img",{className:"w-10 h-10 rounded-full object-cover mr-1",alt:"not found",src:r||"/user.png"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"reply",children:[v.message&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"p-1 px-4 break-all\n       flex rounded-2xl\n       bg-gray-200 text-black\n       my-[2px]",children:v.message})}),v.img&&(null==v?void 0:v.img.map((e,t)=>(0,n.jsx)("img",{src:e,alt:"",className:"object-cover h-60 w-48 rounded-3xl mb-2 opacity-40"},e)))]}),c&&(0,n.jsx)("div",{className:"p-1 px-4 \n                ".concat(s?"bg-blue-400 text-white":"bg-gray-200 text-black","\n                ").concat(u.length>0?"rounded-2xl rounded-br mt-2":"","\n                break-all\n                flex rounded-2xl\n                my-[2px]"),children:(0,n.jsxs)("div",{children:[b.conversationData.isGroup&&!s&&(0,n.jsx)("p",{className:"text-sm font-semibold",children:(e=>{let t=I.FriendList.find(t=>{if(e===t.id)return t.name});return(null==t?void 0:t.name)||""})(t.messageUserId)}),(0,n.jsx)("div",{className:"text-base",children:c}),(0,n.jsx)("p",{className:"text-xs",children:g(p)})]})}),u.length>0&&u.map((e,t)=>(0,n.jsx)("img",{src:e||"/user.png",alt:"",className:"object-cover h-60 w-48 rounded-3xl mb-2"},e))]}),y===l&&!s&&(0,n.jsxs)("div",{className:"flex gap-2 mx-2",children:[(0,n.jsx)(x.QV_,{className:"text-black sm:cursor-pointer",size:20,onClick:S}),(0,n.jsx)(j.p1A,{size:20})]})]})})},I=s(6936),S=s(33134),U=e=>{let{img:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("img",{className:"w-40 h-40 rounded-full object-cover",alt:"not found",src:t||"/user.png"})})},M=e=>{let{UserState:t,conversation:s}=e,{id:i,image:o}=t.state,l=(0,a.useRef)(null),[c,u]=(0,a.useState)(""),g=(0,d.Z)(),[f,v]=(0,a.useState)({id:"",messages:[],senderMessages:[],receiverMessages:[]}),p=()=>{var e;null===(e=l.current)||void 0===e||e.scrollIntoView()};return(0,a.useEffect)(()=>{if(g.conversationData.id){let e=(0,I.cf)((0,I.JU)(S.db,"UserMessage",s.MessageDataId),{includeMetadataChanges:!0},e=>{v(e.data())});return()=>e()}},[s.MessageDataId,g]),(0,a.useEffect)(()=>{(null==f?void 0:f.messages.length)>0&&p()},[null==f?void 0:f.messages]),(0,n.jsxs)("div",{className:"pt-32 p-2 min-h-[88vh]",children:[(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"my-5 flex justify-center items-center",children:(0,n.jsx)(U,{img:g.conversationData.isGroup?"/noGroup.png":g.friend.image})}),(0,n.jsx)(r.ZT,{variant:"h3",color:"blue-gray",children:g.conversationData.isGroup?"Group Name":g.friend.name}),(0,n.jsx)(r.ZT,{variant:"h6",color:"gray",className:"font-normal",children:g.conversationData.isGroup?"This is Group":g.friend.email})]})}),null==f?void 0:f.messages.filter((e,t,s)=>t===s.findIndex(t=>m(t.date)===m(e.date))).map((e,t)=>{var s;return(0,n.jsxs)("div",{className:"my-5",children:[(0,n.jsx)("div",{className:"flex gap-3 w-full justify-center",children:(0,n.jsx)("p",{className:"bg-gray-200 px-1 rounded-md",children:m(e.date)})}),(0,n.jsx)("div",{children:null===(s=f.messages)||void 0===s?void 0:s.map((t,s)=>m(e.date)===m(t.date)&&(0,n.jsx)(N,{Message:t,isSender:t.messageUserId===i,ProfileImageUrl:t.messageUserId===i?o:g.friend.image||"/user.png",setSelectedMessage:u,selectedMessage:c},t.id))})]},e.id)}),(0,n.jsx)("div",{className:"h-16",ref:l})]})},C=s(35743),k=s(10021),E=s(1033),L=s(9802),O=s(22082),Z=s(9516);let F=e=>{var t,s,r,l,c,m,g;let{conversation:f,messageUserId:v}=e,p=(0,u.usePathname)(),x=(0,d.Z)(),h=D(),[j,w]=(0,a.useState)({id:(0,L.ZP)(),message:"",img:[],reply:b,seenIds:[],messageUserId:v,createdAt:void 0,updateAt:void 0,conversationId:p.replace("/",""),seen:[]}),N=async()=>{(0,O.P)({...j,conversationId:p.replace("/",""),reply:h.state},f.MessageDataId),w({...y,messageUserId:v,id:(0,L.ZP)()}),h.setReply(b);let e={lastMessage:j.message,UserId:v,friendId:x.friend.id,conversationId:p.replace("/","")};x.conversationData.isGroup?(0,Z.hO)(e,x.conversationData):(0,Z.Qz)(e)},I=e=>{var t=[];let s=e.target.files.length;for(let n=0;n<s;n++){let s=e.target.files[n];s.id=(0,L.ZP)(),t.push(e.target.files[n])}let n=[...j.img,...t];w({...j,img:n})},S=e=>{let t=j.img.filter(t=>t.id!==e);w({...j,img:t})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"bg-white p-3 pt-1 w-full",children:(0,n.jsxs)("div",{className:"rounded-3xl border-[1px]",children:[(0,n.jsxs)("div",{className:"w-full flex gap-3 m-1 mt-0 items-center overflow-x-auto",id:"style-2",children:[j.img.map((e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{className:"rounded-2xl object-cover w-16 h-16 my-2",alt:"not found",src:URL.createObjectURL(e)}),(0,n.jsx)("div",{className:"sm:cursor-pointer relative top-[-25px] right-[30px] w-0",children:(0,n.jsx)(o.toq,{className:" bg-white rounded-full",size:20,onClick:()=>{S(e.id)}})})]})),j.img.length>0&&(0,n.jsx)("label",{htmlFor:"myImage",className:"flex justify-center items-center w-16 h-16",children:(0,n.jsx)(k.qiA,{size:60,className:"sm:cursor-pointer rounded-2xl"})}),h.state.messageId&&(0,n.jsxs)("div",{className:"flex m-3 justify-between w-full",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:(null===(t=h.state)||void 0===t?void 0:t.authorId)===v?"Replying to yourself":"Replying"}),(null===(s=h.state)||void 0===s?void 0:s.message)&&(0,n.jsx)("div",{children:null===(r=h.state)||void 0===r?void 0:r.message}),(null===(l=h.state)||void 0===l?void 0:l.img)&&(null===(c=h.state)||void 0===c?void 0:c.img.map(e=>(0,n.jsx)("img",{className:"w-16 h-16 rounded-2xl object-cover",alt:"not found",src:e},e)))]}),(0,n.jsx)("div",{onClick:()=>{h.setReply(b)},className:"flex justify-end sm:cursor-pointer",children:(0,n.jsx)(o.toq,{size:25})})]})]}),(0,n.jsxs)("div",{className:"flex items-center px-4",children:[(0,n.jsx)(C.PxY,{size:30,className:"mr-2"}),(0,n.jsx)("input",{onChange:e=>{w({...j,message:e.target.value})},id:"Message",type:"text",value:j.message,autoComplete:"off",placeholder:"Message...",className:"w-full border-gray-300 rounded-full outline-none focus:none p-2 "}),(null===(m=j.message)||void 0===m?void 0:m.length)>0||(null===(g=j.img)||void 0===g?void 0:g.length)>0?(0,n.jsx)("button",{className:"font-semibold text-blue-500 hover:text-black sm:cursor-pointer",onClick:N,children:"Send"}):(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(i.Ln0,{size:25}),(0,n.jsx)("label",{htmlFor:"myImage",className:"sm:cursor-pointer",children:(0,n.jsx)(k.qiA,{size:25})}),(0,n.jsx)(E.lo,{size:25})]})]})]})}),(0,n.jsx)("input",{multiple:!0,className:"hidden",type:"file",name:"myImage",id:"myImage",onChange:e=>{I(e)}})]})};var R=e=>{var t;let{params:{id:s}}=e,r=(0,f.Z)(),i=(0,d.Z)();return(0,a.useEffect)(()=>{if(s){var e;null===(e=r.state.Conversations)||void 0===e||e.find(e=>{e.id===s&&i.setConversationData(e)})}},[s]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"w-full overflow-y-scroll",children:[(0,n.jsx)("div",{className:"md:sticky w-full fixed top-0",children:(0,n.jsx)(p,{conversation:i.conversationData,UserState:r})}),(0,n.jsx)(M,{conversation:i.conversationData,UserState:r}),(0,n.jsx)("div",{className:"md:sticky w-full fixed bottom-0",children:(0,n.jsx)(F,{conversation:i.conversationData,messageUserId:null===(t=r.state)||void 0===t?void 0:t.id})})]})})}},56970:function(e,t,s){"use strict";s.d(t,{HC:function(){return n.ListItem},Q:function(){return n.MenuHandler},XZ:function(){return n.Checkbox},ZT:function(){return n.Typography},qy:function(){return n.MenuList},sN:function(){return n.MenuItem},u1:function(){return n.ListItemPrefix},v2:function(){return n.Menu}});var n=s(46095)},63899:function(e,t,s){"use strict";var n=s(70393),a=s(5109),r=s(82561);let i=(0,r.Ue)(e=>({conversationData:n.F,friend:a.R,GroupConversationData:n.E,setFriend:t=>e(()=>({friend:t})),setConversationData:t=>e(()=>({conversationData:t,GroupConversationData:t.group})),reset:()=>e(()=>({conversationData:n.F,Friend:a.R})),setConversationAndFriend:(t,s)=>e(()=>({conversationData:t,friend:s}))}));t.Z=i},92621:function(e,t,s){"use strict";var n=s(5109),a=s(82561);let r=(0,a.Ue)(e=>({state:n.R,FriendList:[],setUser:t=>e({state:t}),setFriendList:t=>e(e=>e.FriendList.find(e=>e.id===t.id)?e:{FriendList:[...e.FriendList,t]})}));t.Z=r},32090:function(e,t,s){"use strict";var n=s(82561);let a=(0,n.Ue)(e=>({sideBar:!1,openSideBar:()=>e({sideBar:!0}),closeSideBar:()=>e({sideBar:!1})}));t.Z=a},70393:function(e,t,s){"use strict";s.d(t,{E:function(){return a},F:function(){return n}});let n={id:"",createDate:void 0,updateDate:void 0,lastMessageDate:void 0,lastMessage:"",type:"PERSONAL",MessageDataId:"",friendData:{id:"",name:"",email:""},group:{admin:[],groupName:null,groupImage:null,groupMembers:[],CreatedUser:""},isGroup:!1},a={admin:[],groupName:"",groupImage:"",groupMembers:[],CreatedUser:""}},5109:function(e,t,s){"use strict";s.d(t,{R:function(){return n}});let n={id:"",name:"",email:"",emailVerified:!1,image:"",createDate:new Date,updateDate:new Date,FriendRequest:[],activeUser:!1,bio:"",Conversations:[]}},23640:function(e,t){"use strict";t.Z={home:"/",auth:"/auth",inbox:"/inbox"}},9516:function(e,t,s){"use strict";s.d(t,{DO:function(){return u},HA:function(){return l},Qz:function(){return c},hO:function(){return d}});var n=s(6936),a=s(33134),r=s(9802),i=s(22082),o=s(16160);let l=async(e,t)=>{let s=new Date().toISOString(),o=(0,r.ZP)(),l={id:(0,r.ZP)(),createDate:s,updateDate:s,lastMessageDate:s,lastMessage:"new conversation",type:"PERSONAL",MessageDataId:o,friendData:{id:t.id,name:t.name,email:t.email},isGroup:!1,group:{admin:[],groupName:null,groupImage:null,groupMembers:[],CreatedUser:""}},c={...l,friendData:{id:e.id,name:e.name,email:e.email}};try{return(0,n.r7)((0,n.JU)(a.db,"users",e.id),{Conversations:(0,n.vr)(l)}),(0,n.r7)((0,n.JU)(a.db,"users",t.id),{Conversations:(0,n.vr)(c)}).then(()=>{(0,i.D)(o)}),!0}catch(e){return console.log(e),{message:e,code:400}}},c=async e=>{let t=new Date().toString(),{lastMessage:s,UserId:r,friendId:i,conversationId:l}=e;try{let e=await (0,o.Lv)(r),c=await (0,o.Lv)(i),u=e.Conversations.map(e=>e.id===l?{...e,lastMessage:s,lastMessageDate:t}:e),d=c.Conversations.map(e=>e.id===l?{...e,lastMessage:s,lastMessageDate:t}:e);await (0,n.pl)((0,n.JU)(a.db,"users",r),{...e,Conversations:u}),await (0,n.pl)((0,n.JU)(a.db,"users",i),{...c,Conversations:d})}catch(e){console.log("Error getting document:",e)}},u=async e=>{let t=new Date().toString(),s=(0,r.ZP)(),o={id:(0,r.ZP)(),createDate:t,updateDate:t,lastMessageDate:t,lastMessage:"add you",isGroup:!0,group:e,type:"GROUP",MessageDataId:s,friendData:{id:"",name:"",email:""}};try{for(let t=0;t<e.groupMembers.length;t++){let s=e.groupMembers[t];await (0,n.r7)((0,n.JU)(a.db,"users",s.userId),{Conversations:(0,n.vr)(o)})}return await (0,i.D)(s),!0}catch(e){console.log(e)}},d=async(e,t)=>{var s;let r=new Date().toString(),{lastMessage:i,UserId:l,friendId:c,conversationId:u}=e,d=(null===(s=t.group)||void 0===s?void 0:s.groupMembers)||[];if(d.length<0)throw Error("user not found");for(let e=0;e<(null==d?void 0:d.length);e++){let t=await (0,o.Lv)(d[e].userId);Promise.all(t.Conversations.map(e=>e.id===u?{...e,lastMessage:i,lastMessageDate:r}:e)).then(s=>{(0,n.pl)((0,n.JU)(a.db,"users",d[e].userId),{...t,Conversations:s})})}}},16160:function(e,t,s){"use strict";s.d(t,{Lv:function(){return r},Q1:function(){return o},Ti:function(){return i}});var n=s(6936),a=s(33134);let r=async e=>{try{let t=await (0,n.QT)((0,n.JU)(a.db,"users",e));return t.exists()?t.data():null}catch(e){return console.log("Error getting document:",e),null}},i=async e=>{let t=new Date().toISOString(),s={id:e.id,name:e.name,email:e.email,emailVerified:!1,image:e.image,lastTimeOnline:t,activeUser:!0,bio:"",createDate:t,updateDate:t,FriendRequest:[],Conversations:[]};try{await (0,n.pl)((0,n.JU)(a.db,"users",e.id),s)}catch(e){console.log(e)}},o=async(e,t)=>{try{await (0,n.r7)((0,n.JU)(a.db,"users",e),{activeUser:t,lastTimeOnline:new Date().toISOString()})}catch(e){console.log(e)}}},33134:function(e,t,s){"use strict";s.d(t,{db:function(){return l},lX:function(){return c},tO:function(){return u}});var n=s(1313),a=s(24734),r=s(6936),i=s(64202);let o=(0,n.ZF)({apiKey:"AIzaSyBcVSdMQGFxgaBIiJwvfmL5EIbEnUb0tJo",authDomain:"next-js-chat-app-33c2b.firebaseapp.com",projectId:"next-js-chat-app-33c2b",storageBucket:"next-js-chat-app-33c2b.appspot.com",messagingSenderId:"269077837950",appId:"1:269077837950:web:aa04484eb3107351d2c02f"}),l=(0,r.ad)(o),c=(0,a.v0)(o),u=(0,i.cF)(o);(0,a.v0)(o)},22082:function(e,t,s){"use strict";s.d(t,{D:function(){return o},P:function(){return i}});var n=s(6936),a=s(33134),r=s(6823);let i=async(e,t)=>{var s=[];try{if(e.img.length>0)for(let t=0;t<e.img.length;t++){let n=await (0,r.z)(e.img[t],e.messageUserId);s.push(n)}await (0,n.r7)((0,n.JU)(a.db,"UserMessage",t),{senderMessages:[],receiverMessages:[],messages:(0,n.vr)({id:e.id,message:e.message,img:s,reply:e.reply,seenIds:e.seenIds,createdAt:new Date().toISOString(),updateAt:new Date().toISOString(),date:new Date().toISOString(),conversationId:e.conversationId,messageUserId:e.messageUserId})})}catch(e){console.log(e)}},o=async e=>await (0,n.pl)((0,n.JU)(a.db,"UserMessage",e),{id:e,messages:[],senderMessages:[],receiverMessages:[]}).then(()=>e).catch(e=>{console.log(e)})},6823:function(e,t,s){"use strict";s.d(t,{z:function(){return r}});var n=s(64202),a=s(33134);let r=async(e,t)=>{let s=new Promise((s,r)=>{let i=(0,n.iH)(a.tO,"UserFiles/".concat(t,"/").concat(e.name)),o=(0,n.B0)(i,e);o.on("state_changed",e=>{e.bytesTransferred,e.totalBytes},e=>{console.log(e)},()=>{(0,n.Jt)(o.snapshot.ref).then(e=>{s(e)})})});return s}},33972:function(e,t,s){e.exports=s(4e3)},98727:function(e,t,s){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=s(86006),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=n.useState,i=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!a(e,s)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),n=r({inst:{value:s,getSnapshot:t}}),a=n[0].inst,u=n[1];return o(function(){a.value=s,a.getSnapshot=t,c(a)&&u({inst:a})},[e,s,t]),i(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(s),s};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},94464:function(e,t,s){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=s(86006),a=s(3276),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,n,a){var d=o(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;d=c(function(){function e(e){if(!l){if(l=!0,i=e,e=n(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return o=t}return o=e}if(t=o,r(i,e))return t;var s=n(e);return void 0!==a&&a(t,s)?t:(i=e,o=s)}var i,o,l=!1,c=void 0===s?null:s;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,s,n,a]);var g=i(e,d[0],d[1]);return l(function(){m.hasValue=!0,m.value=g},[g]),u(g),g}},3276:function(e,t,s){"use strict";e.exports=s(98727)},97737:function(e,t,s){"use strict";e.exports=s(94464)},9802:function(e,t,s){"use strict";let n=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function a(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.split(/[:\/]/g).pop().toLowerCase()}a.valid=function(e){return n.test(e)},t.ZP=a},82561:function(e,t,s){"use strict";s.d(t,{Ue:function(){return c}});let n=e=>{let t;let s=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=n?n:"object"!=typeof a)?a:Object.assign({},t,a),s.forEach(s=>s(t,e))}},a=()=>t,r={setState:n,getState:a,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}};return t=e(n,a,r),r},a=e=>e?n(e):n;var r=s(86006),i=s(97737);let{useSyncExternalStoreWithSelector:o}=i,l=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?a(e):e,s=(e,s)=>(function(e,t=e.getState,s){let n=o(e.subscribe,e.getState,e.getServerState||e.getState,t,s);return(0,r.useDebugValue)(n),n})(t,e,s);return Object.assign(s,t),s},c=e=>e?l(e):l}},function(e){e.O(0,[662,271,679,130,372,173,877,680,287,827,371,162,51,253,698,744],function(){return e(e.s=70606)}),_N_E=e.O()}]);